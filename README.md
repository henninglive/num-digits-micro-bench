# num-digits-micro-bench
Rust micro benchmark of different algorithms for finding the number of decimal digits in an integers of various sizes.
The results are not very meaningful, I mostly created this to test and learn `cargo bench` and rust macros.

## Results

| Algorithm            | u8(ns)               | u16(ns)              | u32(ns)              | u64(ns)              | u128(ns)            |
| -------------------- | -------------------- | -------------------- | -------------------- | -------------------- | ------------------- |
| binary_search        | 1,165 (+/- 106)      | 2,600 (+/- 233)      | 1,343 (+/- 127)      | 2,643 (+/- 245)      | 3,766 (+/- 1,459)   |
| cmp_list             | 1,685 (+/- 149)      | 2,138 (+/- 607)      | 2,314 (+/- 412)      | 2,113 (+/- 213)      | 39,225 (+/- 3,145)  |
| div_loop             | 3,632 (+/- 388)      | 5,111 (+/- 626)      | 12,036 (+/- 4,035)   | 33,732 (+/- 2,946)   | 2,440 (+/- 563)     |
| div_unrolled         | 1,238 (+/- 156)      | 1,929 (+/- 186)      | 5,693 (+/- 1,689)    | 11,512 (+/- 1,080)   | 1,187 (+/- 114)     |
| log                  | 22,575 (+/- 7,807)   | 22,980 (+/- 4,983)   | 20,825 (+/- 9,213)   | 21,194 (+/- 1,976)   | 51,657 (+/- 5,479)  |
| most_significant_bit | 3,834 (+/- 745)      | 5,420 (+/- 697)      | 5,368 (+/- 845)      | 5,484 (+/- 890)      | 6,495 (+/- 2,633)   |
| mul_loop             | 1,262 (+/- 250)      | 1,861 (+/- 146)      | 8,957 (+/- 767)      | 17,628 (+/- 2,019)   | 1,180 (+/- 115)     |
| pattern_match        | 1,252 (+/- 119)      | 1,761 (+/- 169)      | 8,316 (+/- 324)      | 16,233 (+/- 641)     | 1,178 (+/- 77)      |
| str_format           | 125,692 (+/- 66,182) | 122,269 (+/- 45,914) | 125,254 (+/- 10,093) | 139,665 (+/- 47,381) | 113,735 (+/- 9,299) |
| str_format_stack     | 64,424 (+/- 32,997)  | 62,855 (+/- 41,842)  | 68,488 (+/- 7,809)   | 80,726 (+/- 10,432)  | 56,130 (+/- 4,633)  |
| str_itoa_stack       | 26,174 (+/- 12,323)  | 25,838 (+/- 10,821)  | 23,846 (+/- 2,852)   | 38,519 (+/- 4,106)   | 19,233 (+/- 10,256) |
